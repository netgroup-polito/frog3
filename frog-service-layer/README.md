# User-Defined Service Functions 

User-Defined Service Functions is a service layer running on top of the FROGv3 orchestrator. It allows each user to define his own service graph (a.k.a. NFV service chain).
The network is initially configured with a default service graph that redirect all the unknown traffic (e.g., generated by users connecting to the network with their laptop) to a captive portal, for user identification.
A successful user authentication triggers the instantiation of the service graph associated to that user.
From that point on, all the traffic of that user will pass through the functions defined in the user' selected service graph before being transmitted to the Internet.
All the traffic of the unauthenticated users are instead redirected to the captive portal, until a successfull autentication occurs.

### Installation

```sh
$ git clone https://github.com/netgroup-polito/frog3
$ cd frog3/SeviceLayer/UserDefinedServiceFunctions
$ sudo apt-get install python-dev python-setuptools python-sqlalchemy libmysqlclient-dev
$ sudo easy_install pip
$ sudo pip install --upgrade cython falcon requests gunicorn jsonschema mysql-python json_hyper_schema
$ ./create_db.sh
```

### Configuration
The configuration file is stored in Configuration/service_layer.conf

### How to run
```sh
$ ./start_service_layer.sh
```
